<!DOCTYPE html>
<html>
<head>
    <title>Search Results</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='results.css') }}">

</head>
<body onload="showPage()">
    <div id="loader99">
        <div class="preloader" id="loader1234">
        </div>
        <h6 style="color: rgba(69, 62, 62, 0.595);">Populating Database...</h6>
    </div>
    <div id="99">
        <div class="container" id="search1234">
            <form class="search-form" method="post" action="/">
                <input type="text" name="query" class="search-input" placeholder="Search...">
                <input type="submit" value="Search" class="search-button" onclick="loadPage()">
            </form>
        </div>
        <div class="results-container">
            {% for result in results %}
            <div class="result">
                <div class="result-title"> <a href="{{ result[0] }}">{{ result[1] }}</a></div>
                <div class="result-url"> <a href="{{ result[0] }}">{{ result[0] }}</a></div>
                {% if result[3] %}
                <p style="margin: 0; color: rgba(181, 130, 37, 0.605);">
                    {% for count in result[3][0] %}
                    <span>{{ count[0] }}</span>:<span>{{ count[1] }}</span>{% if not loop.last %}, {% endif %}
                    {% endfor %}
                    | <span>Total:</span><span>{{ result[3][1] }}</span>
                </p>
                {% endif %}        
                <div class="result-snippet">{{ result[2] }}</div>
            </div>
            {% endfor %}
        </div>
    </div>
    <script>        
        function loadPage() {
            document.getElementById("loader99").style.display = "block";
            document.getElementById("99").style.display = "none";

        }
        
        function showPage() {
          document.getElementById("loader99").style.display = "none";
          document.getElementById("99").style.display = "block";
        }
    </script>
</body>
</html>